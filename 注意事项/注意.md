项目会最终同步到github，并部署到vercel。写代码的时候要注意。

## Vercel 部署历史数据加载问题

### 问题
`history.html` 页面需要从 `/api/files` 获取文件列表，但 Vercel 静态部署不提供该 API 端点，导致历史数据无法加载。

### 解决方案
创建 Vercel Serverless Function：`api/files.js`

- 功能：递归扫描 `AI+X_history_data` 目录，返回文件树结构
- 路径格式：与本地 Python 服务器保持一致（`AI+X_history_data/...`）
- 支持：文件夹嵌套、所有文件类型（图片、PDF、HTML等）

### 部署流程
1. 代码推送到 GitHub
2. Vercel 自动检测并部署 API 路由
3. `history.html` 可正常加载历史数据

### 注意事项
- API 文件必须放在 `api/` 目录下
- 文件路径使用 `process.cwd()` 获取项目根目录
- 确保 `AI+X_history_data` 目录已提交到 Git

### 404 错误排查
如果遇到 404 错误：
1. 检查 Vercel 部署日志，确认 API 路由是否成功部署
2. 确认 `AI+X_history_data` 目录已提交到 Git
3. 检查 Vercel 项目设置中的文件系统访问权限
4. 如果 Serverless Functions 无法访问文件系统，考虑使用构建时生成文件列表的方案